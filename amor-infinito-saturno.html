<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Saturno Amor Infinito</title>

<style>
body{
  margin:0;
  overflow:hidden;
  background:black;
}
canvas{display:block}
</style>
</head>

<body>

<audio id="musica" loop>
<source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_c8c8a73467.mp3">
</audio>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<script>
// ESCENA
const scene = new THREE.Scene();

// CAMARA
const camera = new THREE.PerspectiveCamera(75,innerWidth/innerHeight,0.1,1000);
camera.position.z = 12;

// RENDER
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth,innerHeight);
document.body.appendChild(renderer.domElement);

// ‚≠ê ESTRELLAS PROFUNDAS
function crearEstrellas(cantidad, tama√±o){
  const geo = new THREE.BufferGeometry();
  const pos = [];

  for(let i=0;i<cantidad;i++){
    pos.push(
      (Math.random()-0.5)*300,
      (Math.random()-0.5)*300,
      (Math.random()-0.5)*300
    );
  }

  geo.setAttribute('position', new THREE.Float32BufferAttribute(pos,3));

  const mat = new THREE.PointsMaterial({
    color:0xffffff,
    size:tama√±o
  });

  return new THREE.Points(geo,mat);
}

scene.add(crearEstrellas(2000,0.6));
scene.add(crearEstrellas(1500,1));
scene.add(crearEstrellas(800,1.5));

// ü™ê SATURNO REALISTA
const textureLoader = new THREE.TextureLoader();

const saturnTexture = textureLoader.load("https://threejsfundamentals.org/threejs/resources/images/saturn.jpg");

const saturn = new THREE.Mesh(
  new THREE.SphereGeometry(2.5,64,64),
  new THREE.MeshStandardMaterial({
    map: saturnTexture,
    emissive: 0x222222
  })
);
scene.add(saturn);

// LUZ
const light = new THREE.PointLight(0xffffff,1.5);
light.position.set(10,10,10);
scene.add(light);

// üåå ANILLO BRILLANTE
const ring = new THREE.Mesh(
  new THREE.RingGeometry(3.5,6,128),
  new THREE.MeshBasicMaterial({
    color:0xff66cc,
    side:THREE.DoubleSide,
    transparent:true,
    opacity:0.7
  })
);
ring.rotation.x = Math.PI/2;
saturn.add(ring);

// üíñ FRASES GLOW
const frases = [
"Te amo","Mi vida","Eres todo","Mi cielo","Mi amor","Mi reina","Mi princesa",
"Eres √∫nica","Te adoro","Mi felicidad","Mi mundo","Siempre t√∫","Mi sol",
"Mi estrella","Mi paz","Mi todo","Contigo todo","Eres magia","Mi destino",
"Te pienso"
];

const grupo = new THREE.Group();

frases.forEach((txt,i)=>{
  const canvas = document.createElement("canvas");
  const ctx = canvas.getContext("2d");

  canvas.width = 256;
  canvas.height = 64;

  ctx.fillStyle = "white";
  ctx.shadowColor = "#ff66cc";
  ctx.shadowBlur = 15;
  ctx.font = "20px Arial";
  ctx.textAlign = "center";
  ctx.fillText(txt,128,40);

  const tex = new THREE.CanvasTexture(canvas);
  const mat = new THREE.SpriteMaterial({map:tex});
  const sprite = new THREE.Sprite(mat);

  const angle = (i/frases.length)*Math.PI*2;
  const r = 7;

  sprite.position.set(
    Math.cos(angle)*r,
    (Math.random()-0.5)*2,
    Math.sin(angle)*r
  );

  sprite.scale.set(2.2,0.7,1);
  grupo.add(sprite);
});

scene.add(grupo);

// üíï CORAZONES FLOTANDO
function crearCorazon(){
  const geo = new THREE.SphereGeometry(0.1,8,8);
  const mat = new THREE.MeshBasicMaterial({color:0xff3366});
  const heart = new THREE.Mesh(geo,mat);

  heart.position.set(
    (Math.random()-0.5)*20,
    (Math.random()-0.5)*20,
    (Math.random()-0.5)*20
  );

  scene.add(heart);

  return heart;
}

const corazones = [];
for(let i=0;i<80;i++){
  corazones.push(crearCorazon());
}

// üéÆ CONTROL T√ÅCTIL PRO
let dragging=false, px=0, py=0;

document.addEventListener("touchstart",e=>{
  dragging=true;
  px=e.touches[0].clientX;
  py=e.touches[0].clientY;
});

document.addEventListener("touchmove",e=>{
  if(!dragging) return;

  let dx=e.touches[0].clientX-px;
  let dy=e.touches[0].clientY-py;

  grupo.rotation.y+=dx*0.005;
  grupo.rotation.x+=dy*0.005;

  px=e.touches[0].clientX;
  py=e.touches[0].clientY;
});

document.addEventListener("touchend",()=>dragging=false);

// ZOOM
document.addEventListener("wheel",e=>{
  camera.position.z+=e.deltaY*0.01;
});

// üéµ MUSICA
document.addEventListener("click",()=>{
  document.getElementById("musica").play();
},{once:true});

// üîÑ ANIMACI√ìN DIOS
function animate(){
  requestAnimationFrame(animate);

  saturn.rotation.y+=0.01;
  grupo.rotation.y+=0.002;

  corazones.forEach(h=>{
    h.position.y+=0.01;
    if(h.position.y>10) h.position.y=-10;
  });

  renderer.render(scene,camera);
}
animate();

// RESPONSIVE
addEventListener("resize",()=>{
  camera.aspect=innerWidth/innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth,innerHeight);
});
</script>

</body>
</html>
